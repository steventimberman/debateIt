{% extends 'debate/base.html' %}

{% block title %}<title>Debate Details</title>{% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="panel">
            <ul class="nav nav-tabs">
                <li>
                    <a href="#det-debate-topic" data-toggle="tab" class="active">Debate Info</a>
                </li>
                <li>
                    <a href="#det-comments" data-toggle="tab">Comments</a>
                </li>
                <li>
                    <a href="#det-articles" data-toggle="tab">Articles</a>
                </li>
            </ul>

            <ul class="tab-content">
                <li id="det-debate-topic" class="tab-pane active" >
                    <h1>Debate: {{ debatetopic.topic }}</h1>
                    <h3>Description: {{ debatetopic.description }}</h3>
                    <ul><h4>Topic Tags:</h4>
                        {% for tag in debatetopic.tags %}
                            <li>
                                <p>{{ tag }}</p>
                            </li>
                        {% endfor %}
                    </ul>
                </li>
                <li id="det-comments" class="tab-pane">
                    <h1>Comments</h1>

                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <a href="{% url 'debate:comment-add' pk=debatetopic.pk%}"> Add comment</a>
                            </div>
                        </div>
                        {% for comment in debatetopic.points.all %}
                        <div class="row">
                        <div class="col-sm-1">
                        <div class="thumbnail">
                        <img class="img-responsive user-photo" src="{{ comment.author.userprofile.image.url }}">
                        </div><!-- /thumbnail -->
                        </div><!-- /col-sm-1 -->

                        <div class="col-sm-5">
                        <div class="panel panel-default">
                        <div class="panel-heading">
                        <strong>{{ comment.author.first_name }} {{ comment.author.last_name }}</strong> <span class="text-muted">commented on {{ comment.created_date }}</span>
                        </div>
                        <div class="panel-body">
                        {{ comment.claim|linebreaks }}
                        </div><!-- /panel-body -->
                        </div><!-- /panel panel-default -->
                        </div><!-- /col-sm-5 -->
                        </div>
                    </div>
                    {% empty %}
                        <p>Be the first to spark this debate!</p>
                    {% endfor %}
                </li>
                <li id="det-articles" class="tab-pane">
                    <h1>Articles</h1>
                </li>
            </ul>
        </div>
    </div>
{% endblock %}
